{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-promises.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst form = document.querySelector('.form');\nform.addEventListener('submit', formSubmitHandler);\n\nfunction formSubmitHandler(event) {\n  event.preventDefault();\n  const amountValue = form.elements.amount.value;\n  const stepValue = form.elements.step.value;\n  const delayValue = form.elements.delay.value;\n\n  let delay = Number(delayValue);\n\n  for (let i = 1; i <= Number(amountValue); i++) {\n    createPromise(i, delay).then(onResolve, onReject).catch(console.log);\n    delay += Number(stepValue);\n  }\n  form.reset();\n}\n\nfunction onResolve({ position, delay }) {\n  iziToast.success({\n    message: `Fulfilled promise ${position} in ${delay}ms`,\n    position: 'topRight',\n  });\n}\nfunction onReject({ position, delay }) {\n  iziToast.error({\n    message: `Rejected promise ${position} in ${delay}ms`,\n    position: 'topRight',\n  });\n}\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      if (shouldResolve) {\n        resolve({ position, delay });\n      } else {\n        reject({ position, delay });\n      }\n    }, delay);\n  });\n}\n"],"names":["form","formSubmitHandler","event","amountValue","stepValue","delayValue","delay","i","createPromise","onResolve","onReject","position","iziToast","shouldResolve","resolve","reject"],"mappings":"mIAGA,MAAMA,EAAO,SAAS,cAAc,OAAO,EAC3CA,EAAK,iBAAiB,SAAUC,CAAiB,EAEjD,SAASA,EAAkBC,EAAO,CAChCA,EAAM,eAAc,EACpB,MAAMC,EAAcH,EAAK,SAAS,OAAO,MACnCI,EAAYJ,EAAK,SAAS,KAAK,MAC/BK,EAAaL,EAAK,SAAS,MAAM,MAEvC,IAAIM,EAAQ,OAAOD,CAAU,EAE7B,QAASE,EAAI,EAAGA,GAAK,OAAOJ,CAAW,EAAGI,IACxCC,EAAcD,EAAGD,CAAK,EAAE,KAAKG,EAAWC,CAAQ,EAAE,MAAM,QAAQ,GAAG,EACnEJ,GAAS,OAAOF,CAAS,EAE3BJ,EAAK,MAAK,CACZ,CAEA,SAASS,EAAU,CAAE,SAAAE,EAAU,MAAAL,GAAS,CACtCM,EAAS,QAAQ,CACf,QAAS,qBAAqBD,QAAeL,MAC7C,SAAU,UACd,CAAG,CACH,CACA,SAASI,EAAS,CAAE,SAAAC,EAAU,MAAAL,GAAS,CACrCM,EAAS,MAAM,CACb,QAAS,oBAAoBD,QAAeL,MAC5C,SAAU,UACd,CAAG,CACH,CAEA,SAASE,EAAcG,EAAUL,EAAO,CACtC,MAAMO,EAAgB,KAAK,OAAM,EAAK,GACtC,OAAO,IAAI,QAAQ,CAACC,EAASC,IAAW,CACtC,WAAW,IAAM,CACXF,EACFC,EAAQ,CAAE,SAAAH,EAAU,MAAAL,CAAK,CAAE,EAE3BS,EAAO,CAAE,SAAAJ,EAAU,MAAAL,CAAK,CAAE,CAE7B,EAAEA,CAAK,CACZ,CAAG,CACH"}